<div class="container py-4">
  <div class="row" style="min-height: 500px !important">
    <!-- <div class="col-sm-3">
      <mat-card class="card-padrao" style="min-height: 500px !important">
        <div class="row">
          <div class="col-sm-12">
            <h5><b>PERSONAGENS </b></h5>
            <hr />
          </div>
        </div>
      </mat-card>
    </div> -->
    <div class="col-sm-12">
      <mat-card class="card-padrao" style="min-height: 500px !important">
        <div class="row">
          <div class="col-sm-8">
            <h5><b>FICHA DO PERSONAGEM: </b></h5>
          </div>
          <div class="col-sm-2 d-flex justify-content-end">
            <b>{{ "NÍVEL: " + personagem.nivel }}</b>
          </div>
          <div class="col-sm-2 d-flex justify-content-end">
            <b>{{ "PONTOS: " + personagem.pontos }}</b>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <hr />
          </div>
        </div>
        <div class="row">
          <div class="col-sm-2">
            <div class="d-flex justify-content-center">
              <img
                src="assets/img/icon_sheet.png"
                alt="Avatar"
                class="rounded-circle imagem-ficha"
                width="50"
                height="50"
              />
            </div>
          </div>

          <div class="col-sm-2 d-flex">
            <button
              class="btn btn-sm btn-outline-secondary ms-2 botao-ficha"
              (click)="openDialog('RAÇA')"
            >
              <!-- <img *ngIf="personagem.raca" [src]="personagem.raca.imagem" [alt]="personagem.raca.nome" style="width: 100px !important; height: 100px !important;" /> -->
              <b style="color: white !important">{{
                personagem.raca
                  ? personagem.raca?.nome?.toLocaleUpperCase()
                  : "RAÇA"
              }}</b>
            </button>
          </div>
          <div class="col-sm-2 d-flex">
            <button class="btn btn-sm btn-outline-secondary ms-2 botao-ficha">
              <b style="color: white !important">ORIGEM:</b>
            </button>
          </div>
          <div class="col-sm-4 d-flex">
            <button class="btn btn-sm btn-outline-secondary ms-2 botao-ficha">
              <b style="color: white !important">CLASSES:</b>
            </button>
          </div>
          <div class="col-sm-2 d-flex">
            <button class="btn btn-sm btn-outline-secondary ms-2 botao-ficha">
              <b style="color: white !important">DIVINDADE:</b>
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <hr />
          </div>
        </div>
        <div class="row">
          <div class="col-sm-8">
            <div class="row">
              <div class="col-sm-12">
                <mat-card class="card-padrao">
                  <div class="row align-items-center">
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">FOR</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos.forca_comprada === 4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'for',
                                      personagem.atributos.forca_comprada + 1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.forca_comprada === -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'for',
                                    personagem.atributos.forca_comprada - 1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.forca"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.forca_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.forca_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.forca_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">DES</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos.destreza_comprada === 4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'des',
                                      personagem.atributos.destreza_comprada + 1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.destreza_comprada === -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'des',
                                    personagem.atributos.destreza_comprada - 1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.destreza"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.destreza_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.destreza_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.destreza_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">CON</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos
                                      .constituicao_comprada === 4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'con',
                                      personagem.atributos
                                        .constituicao_comprada + 1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.constituicao_comprada ===
                                  -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'con',
                                    personagem.atributos.constituicao_comprada -
                                      1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.constituicao"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.constituicao_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.constituicao_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.constituicao_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">INT</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos
                                      .inteligencia_comprada === 4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'int',
                                      personagem.atributos
                                        .inteligencia_comprada + 1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.inteligencia_comprada ===
                                  -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'int',
                                    personagem.atributos.inteligencia_comprada -
                                      1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.inteligencia"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.inteligencia_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.inteligencia_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.inteligencia_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">SAB</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos.sabedoria_comprada ===
                                    4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'sab',
                                      personagem.atributos.sabedoria_comprada +
                                        1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.sabedoria_comprada === -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'sab',
                                    personagem.atributos.sabedoria_comprada - 1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.sabedoria"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.sabedoria_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.sabedoria_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.sabedoria_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <div class="row text-center">
                        <b style="font-size: x-large !important">CAR</b>
                      </div>
                      <div class="row align-items-center">
                        <div class="col-sm-3">
                          <div class="row">
                            <div class="col-sm-12">
                              <div>
                                <button
                                  class="botoes-mais-menos"
                                  [disabled]="
                                    personagem.atributos.carisma_comprada === 4
                                  "
                                  (click)="
                                    personagem.calculaPontos(
                                      'car',
                                      personagem.atributos.carisma_comprada + 1
                                    )
                                  "
                                >
                                  +
                                </button>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-12">
                              <button
                                class="botoes-mais-menos"
                                [disabled]="
                                  personagem.atributos.carisma_comprada === -1
                                "
                                (click)="
                                  personagem.calculaPontos(
                                    'car',
                                    personagem.atributos.carisma_comprada - 1
                                  )
                                "
                              >
                                -
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-9" style="padding-left: 2% !important;">
                          <input
                            class="campo-modificadores"
                            size="1"
                            [value]="personagem.atributos.carisma"
                            disabled
                          />
                        </div>
                      </div>
                      <div class="row align-items-center">
                        <div class="d-flex">
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.carisma_comprada"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.carisma_racial"
                            disabled
                          />
                          <input
                            class="campo-atributos"
                            style="text-align: center !important"
                            value="0"
                            size="1"
                            [value]="personagem.atributos.carisma_bonus"
                            disabled
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-card>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <mat-card class="card-padrao">
                  <b style="text-align: center">PONTOS DE VIDA</b>
                  <hr />
                  <div class="row">
                    <div style="text-align: center" class="col-sm-4">ATUAL</div>
                    <div style="text-align: center" class="col-sm-4">TOTAL</div>
                    <div style="text-align: center" class="col-sm-4">TEMP.</div>
                  </div>
                  <div class="row">
                    <input
                      class="col-sm-4 m-1 vida-mana-defesa"
                      value="0"
                      size="1"
                      [value]="personagem.pontos_vida_atual"
                    />
                    <div class="col-sm-3 m-1 vida-mana-defesa">
                      {{ personagem.pontos_vida_total }}
                    </div>
                    <div class="col-sm-3 m-1 vida-mana-defesa">
                      {{ personagem.pontos_vida_temporarios }}
                    </div>
                  </div>
                </mat-card>
              </div>
              <div class="col-sm-4">
                <mat-card class="card-padrao">
                  <b style="text-align: center">PONTOS DE MANA</b>
                  <hr />
                  <div class="row">
                    <div style="text-align: center" class="col-sm-4">ATUAL</div>
                    <div style="text-align: center" class="col-sm-4">TOTAL</div>
                    <div style="text-align: center" class="col-sm-4">TEMP.</div>
                  </div>
                  <div class="row">
                    <input
                      class="col-sm-4 m-1 vida-mana-defesa"
                      value="0"
                      size="1"
                      [value]="personagem.pontos_mana_atual"
                    />
                    <div class="col-sm-3 m-1 vida-mana-defesa">
                      {{ personagem.pontos_mana_total }}
                    </div>
                    <div class="col-sm-3 m-1 vida-mana-defesa">
                      {{ personagem.pontos_mana_temporarios }}
                    </div>
                  </div>
                </mat-card>
              </div>
              <div class="col-sm-4">
                <mat-card class="card-padrao">
                  <b style="text-align: center">DEFESA</b>
                  <hr />
                  <div class="row">
                    <div
                      class="col-sm-11 m-1 vida-mana-defesa"
                      style="margin-left: 10px !important"
                    >
                      {{ personagem.defesa }}
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-8">
                      <select
                        class="vida-mana-defesa"
                        style="font-size: 12pt !important"
                      >
                        @for (atributo of atributos; track atributo) {
                        <option
                          [selected]="
                            personagem.recuperaValor(atributo.toString()) ===
                            personagem.recuperaValor('Destreza')
                          "
                          [value]="atributo"
                        >
                          {{ atributo }}
                        </option>
                        }
                      </select>
                    </div>
                    <input
                      style="font-size: 12pt !important"
                      class="col-sm-3 vida-mana-defesa"
                      size="2"
                      (change)="personagem.recalculaDefesa()"
                      [(ngModel)]="personagem.defesa_bonus"
                    />
                  </div>
                </mat-card>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-8">
                <div class="row">
                  <div class="col-sm-12">
                    <mat-card class="card-padrao">
                      <mat-expansion-panel [expanded]="true" [disabled]="true">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <b> EQUIPAMENTOS EMPUNHADOS </b>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <hr />
                        <div class="row">
                          <table
                            mat-table
                            [dataSource]="personagem.equipamentos_empunhados!"
                            multiTemplateDataRows
                            class="mat-elevation-z8"
                          >
                            <ng-container
                              matColumnDef="equipamento"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                EQUIPAMENTO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.nome.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="formula"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                FORMULA
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.formula }}
                              </td>
                            </ng-container>
                            <tr
                              mat-header-row
                              *matHeaderRowDef="
                                displayedColumnsEmpunhadosVestidos
                              "
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsEmpunhadosVestidos
                              "
                            ></tr>
                          </table>
                        </div>
                      </mat-expansion-panel>
                    </mat-card>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <mat-card class="card-padrao">
                      <mat-expansion-panel [expanded]="true" [disabled]="true">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <b> EQUIPAMENTOS VESTIDOS </b>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <hr />
                        <div class="row">
                          <table
                            mat-table
                            [dataSource]="personagem.equipamentos_vestidos!"
                            multiTemplateDataRows
                            class="mat-elevation-z8"
                          >
                            <ng-container
                              matColumnDef="equipamento"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                EQUIPAMENTO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.nome?.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="formula"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                FORMULA
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.formula }}
                              </td>
                            </ng-container>
                            <tr
                              mat-header-row
                              *matHeaderRowDef="
                                displayedColumnsEmpunhadosVestidos
                              "
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsEmpunhadosVestidos
                              "
                            ></tr>
                          </table>
                        </div>
                      </mat-expansion-panel>
                    </mat-card>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <mat-card class="card-padrao">
                      <mat-expansion-panel [expanded]="true" [disabled]="true">
                        <mat-expansion-panel-header
                          style="padding-left: 8px !important"
                        >
                          <mat-panel-title>
                            <div class="container">
                              <div class="row">
                                <div class="col-sm-12">
                                  <b>EQUIPAMENTOS CARREGADOS</b>
                                </div>
                              </div>
                              <div class="row">
                                <div class="col-sm-6">
                                  {{ "LIMITE DE CARGA: " + personagem.carga }}
                                </div>
                                <div
                                  class="col-sm-6 d-flex justify-content-end"
                                >
                                  <select
                                    class="vida-mana-defesa"
                                    style="font-size: 12pt !important"
                                  >
                                    @for (atributo of atributos; track atributo)
                                    {
                                    <option
                                      [selected]="
                                        personagem.recuperaValor(
                                          atributo.toString()
                                        ) === personagem.recuperaValor('Força')
                                      "
                                      [value]="atributo"
                                    >
                                      {{ atributo }}
                                    </option>
                                    }
                                  </select>
                                </div>
                              </div>
                            </div>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <hr />
                        <div class="row">
                          <table
                            mat-table
                            [dataSource]="personagem.equipamentos_carregados!"
                            multiTemplateDataRows
                            class="mat-elevation-z8"
                          >
                            <ng-container
                              matColumnDef="equipamento"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                EQUIPAMENTO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.nome?.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="quantidade"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                QUANTIDADE
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.quantidade }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="espaco"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                ESPACO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.espaco }}
                              </td>
                            </ng-container>
                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsCarregados"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsCarregados
                              "
                            ></tr>
                          </table>
                        </div>
                      </mat-expansion-panel>
                    </mat-card>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-12">
                    <mat-card class="card-padrao">
                      <mat-expansion-panel [expanded]="true" [disabled]="true">
                        <mat-expansion-panel-header>
                          <mat-panel-title>
                            <b> OUTROS ITENS </b>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <hr />
                        <div class="row">
                          <table
                            mat-table
                            [dataSource]="personagem.itens!"
                            multiTemplateDataRows
                            class="mat-elevation-z8"
                          >
                            <ng-container
                              matColumnDef="item"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                ITEM
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.nome?.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="descricao"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                DESCRIÇÃO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.descricao }}
                              </td>
                            </ng-container>
                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsItens"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsItens
                              "
                            ></tr>
                          </table>
                        </div>
                      </mat-expansion-panel>
                    </mat-card>
                  </div>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> PROFICIÊNCIAS </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (proficiencia of personagem.proficiencia; track
                      proficiencia) {
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{ proficiencia }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> TAMANHO </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      <select
                        class="vida-mana-defesa"
                        style="
                          font-size: 12pt !important;
                          width: 100% !important;
                        "
                      >
                        @for (tamanho of tamanhos; track tamanho) {
                        <option
                          [selected]="
                            personagem.recuperaValor(tamanho.toString()) ===
                            personagem.recuperaValor('Médio')
                          "
                          [value]="tamanho"
                        >
                          {{ tamanho }}
                        </option>
                        }
                      </select>
                    </mat-expansion-panel>
                  </mat-card>
                </div>
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> DESLOCAMENTOS </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (deslocamento of personagem.deslocamentos; track
                      deslocamento){
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{
                            deslocamento.nome +
                              " " +
                              deslocamento.valor +
                              " metros"
                          }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> SENTIDOS </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (sentidos of personagem.sentidos; track sentidos){
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{ sentidos }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> RESISTÊNCIAS </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (rd of personagem.resistencias; track rd){
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{ rd.fonte + " " + rd.redutor }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
                <div class="row">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> IMUNIDADES </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (imunidade of personagem.imunidades; track
                      imunidade){
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{ imunidade }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
              </div>
              <div class="row" style="width: 104% !important; max-width: 104%">
                <div class="col-sm-12" style="padding-right: 0% !important">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> HABILIDADES E PODERES </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      <div class="row">
                        <div class="col-sm-12 mt-2">
                          <table
                            mat-table
                            [dataSource]="dataSourcePoderesPersonagens"
                            class="mat-elevation-z8 full-width"
                          >
                            <ng-container
                              matColumnDef="nome"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                NOME
                              </th>
                              <td
                                class="pericia"
                                mat-cell
                                style="padding-left: 2% !important"
                                *matCellDef="let element"
                              >
                                {{ element.nome.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="tipo"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                                TIPO
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.tipo.toUpperCase() }}
                              </td>
                            </ng-container>
                            <ng-container
                              matColumnDef="acoes"
                              class="mat-column-treinado"
                            >
                              <th
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-header-cell
                                *matHeaderCellDef
                                mat-sort-header
                              >
                              </th>
                              <td
                                style="padding-left: 2% !important"
                                class="pericia"
                                mat-cell
                                *matCellDef="let element"
                              >
                                {{ element.tipo.toUpperCase() }}
                              </td>
                            </ng-container>
                            <tr
                              mat-header-row
                              *matHeaderRowDef="displayedColumnsPoderes"
                            ></tr>
                            <tr
                              mat-row
                              *matRowDef="
                                let row;
                                columns: displayedColumnsPoderes
                              "
                            ></tr>
                          </table>
                        </div>
                      </div>
                    </mat-expansion-panel>
                  </mat-card>
                </div>
              </div>
              <div class="row" style="width: 104% !important; max-width: 104%">
                <div class="col-sm-12" style="padding-right: 0% !important">
                  <mat-card class="card-padrao">
                    <mat-expansion-panel [expanded]="true" [disabled]="true">
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <b> MAGIAS </b>
                        </mat-panel-title>
                      </mat-expansion-panel-header>
                      <hr />
                      @for (imunidade of personagem.imunidades; track
                      imunidade){
                      <div class="row">
                        <button
                          class="me-2 proficiencia"
                          mat-flat-button
                          disabled
                        >
                          {{ imunidade }}
                        </button>
                      </div>
                      }
                    </mat-expansion-panel>
                  </mat-card>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-4">
            <mat-card class="card-padrao">
              <div class="row">
                <div class="row">
                  <div class="col-sm-12">
                    <b>Número de Perícias Livres: </b>
                    <input
                      type="text"
                      [(ngModel)]="personagem.numero_pericias_livre"
                      size="2"
                      style="text-align: center !important"
                      disabled
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12 mt-2">
                  <table
                    mat-table
                    [dataSource]="dsPericias"
                    class="mat-elevation-z8 full-width"
                  >
                    <ng-container
                      matColumnDef="treinado"
                      class="mat-column-treinado"
                    >
                      <th
                        class="mat-column-treinado"
                        mat-header-cell
                        *matHeaderCellDef
                        fxFlex="5px"
                      ></th>
                      <td
                        class="mat-column-treinado"
                        mat-cell
                        *matCellDef="let element"
                        fxFlex="5px"
                      >
                        <mat-checkbox
                          [disabled]="seDesabilitaCheck(element)"
                          name="treinado"
                          (change)="element.checkTreinamento($event.checked, personagem)"
                        >
                        </mat-checkbox>
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="pericia">
                      <th
                        class="pericia"
                        mat-header-cell
                        *matHeaderCellDef
                        mat-sort-header
                      >
                        PERÍCIA
                      </th>
                      <td class="pericia" mat-cell *matCellDef="let element">
                        {{ element.pericia.toUpperCase() }}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="total">
                      <th
                        class="pericia"
                        mat-header-cell
                        *matHeaderCellDef
                        mat-sort-header
                      >
                        TOTAL
                      </th>
                      <td
                        class="pericia-valor"
                        mat-cell
                        *matCellDef="let element"
                      >
                        {{ element.total }}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="atributo">
                      <th
                        class="pericia"
                        mat-header-cell
                        *matHeaderCellDef
                        mat-sort-header
                      >
                        ATRIBUTO
                      </th>
                      <td
                        class="pericia-valor"
                        mat-cell
                        *matCellDef="let element"
                      >
                        {{ element.atributo }}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="outros">
                      <th
                        class="pericia"
                        mat-header-cell
                        *matHeaderCellDef
                        mat-sort-header
                      >
                        OUTROS
                      </th>
                      <td
                        class="pericia-valor"
                        mat-cell
                        *matCellDef="let element"
                      >
                        <input
                          type="text"
                          [(ngModel)]="element.outros"
                          (change)="personagem.recalculaPericias()"
                          size="2"
                          style="text-align: center !important"
                        />
                      </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr
                      mat-row
                      *matRowDef="let row; columns: displayedColumns"
                    ></tr>
                  </table>
                </div>
              </div>
            </mat-card>
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>
